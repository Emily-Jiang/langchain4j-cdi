<project xmlns="http://maven.apache.org/POM/4.0.0"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd">
	<modelVersion>4.0.0</modelVersion>
	<parent>
        <groupId>io.smallrye.llm.liberty-bundle</groupId>
		<artifactId>smallrye-llm-langchain4j-liberty-bundle</artifactId>
        <version>1.0.0-SNAPSHOT</version>
        <relativePath>../pom.xml</relativePath>
    </parent>
	<artifactId>${esa.artifact.id}</artifactId>
	<packaging>esa</packaging>
	
	<dependencies>
		<dependency>
			<groupId>io.smallrye.llm.liberty-bundle</groupId>
			<artifactId>${integration.artifact.id}</artifactId>
			<version>${project.version}</version>
		</dependency>
		<!-- https://mvnrepository.com/artifact/io.openliberty.features/microProfile-6.1 -->
		<dependency>
		    <groupId>io.openliberty.features</groupId>
		    <artifactId>microProfile-6.1</artifactId>
		    <version>24.0.0.9</version>
		    <type>esa</type>
		    <scope>provided</scope>
		</dependency>
		<!-- https://mvnrepository.com/artifact/io.openliberty.features/bells-1.0 -->
		<!--
		<dependency>
		    <groupId>io.openliberty.features</groupId>
		    <artifactId>bells-1.0</artifactId>
		    <version>24.0.0.9</version>
		    <type>esa</type>
		    <scope>provided</scope>
		</dependency>
		-->
	</dependencies>
	
	<build>
		<pluginManagement>
			<plugins>
				<plugin>
					<groupId>org.apache.aries</groupId>
			        <artifactId>esa-maven-plugin</artifactId>
			        <version>1.0.2</version>
			        <extensions>true</extensions>
			        <configuration>
			        	<generateManifest>true</generateManifest>
			        	<archiveContent>all</archiveContent>
			        	<instructions>
			        		<Subsystem-Vendor>IBM</Subsystem-Vendor>
            				<IBM-Feature-Version>2</IBM-Feature-Version>
            				<IBM-ShortName>${liberty.feature.name}</IBM-ShortName>
            				<!--
            				<Subsystem-Content>io.openliberty.microProfile-6.1; type="osgi.subsystem.feature"</Subsystem-Content>
            				-->
            				<Subsystem-SymbolicName>
						        ${integration.artifact.id};visibility:=public
						    </Subsystem-SymbolicName>
            				<Subsystem-Type>osgi.subsystem.feature</Subsystem-Type>
    						<Subsystem-Version>1.0.0</Subsystem-Version>
    						<IBM-API-Package>dev.langchain4j.*;version="${dev.langchain4j.version}",io.smallrye.llm.spi;version="1.0.0",io.smallrye.llm.core.langchain4j.portableextension;version="1.0.0"</IBM-API-Package>
			        	</instructions>
        			</configuration>
				</plugin>
			</plugins>
		</pluginManagement>
		
		<plugins>
			<plugin>
				<groupId>org.apache.aries</groupId>
			   	<artifactId>esa-maven-plugin</artifactId>
			</plugin>
		</plugins>
	</build>
</project>